var ZeptoAutocomplete={init:function(t,i,e,o,n){this.limit=t,this.data=i,this.remoteTimeout=3e3,this.resultContainer=$(".autocomplete-result"),this.caseSensitive=e!==void 0?e:!0,this.showFunction="function"==typeof o?o:function(){resultContainer.show()},this.hideFunction="function"==typeof n?n:function(){resultContainer.hide()},this._setSelectionRange()},_clear:function(){this.limit=2,this.data="",this.remoteTimeout=3e3},_setSelectionRange:function(){$(".autocomplete-input").click(function(){this.setSelectionRange(0,this.value.length)})},autocomplete:function(t){return this._clear(),this._isDataSourceDefined(t)?this._isLocal(t)?(this._initLocal(t.limit,t.data,t.caseSensitive,t.show,t.hide),void 0):(this._isRemote(t)&&this._initRemote(t.limit,t.data,t.caseSensitive,t.show,t.hide),void 0):void 0},_isDataSourceDefined:function(t){return t!==void 0&&t.datasource!==void 0&&""!==t.datasource&&t.datasource},_isRemote:function(t){return"remote"===t.datasource&&t.data!==void 0&&t.data},_isLocal:function(t){return"local"===t.datasource&&t.data!==void 0&&$.isArray(t.data)},_initLocal:function(t,i,e,o,n){this.init(t,i,e,o,n);var s=$(".autocomplete-input"),a=this;s.bind("keyup",$.proxy(this._handleLocalSearch,a))},_initRemote:function(t,i,e,o,n){this.init(t,i,e,o,n);var s=$(".autocomplete-input"),a=this;s.bind("keyup",$.proxy(this._handleRemoteSearch,a))},_isWithinLimit:function(t){return void 0!==t&&t.length>this.limit},_handleLocalSearch:function(){var t=$(".autocomplete-input").val();return this._isWithinLimit(t)?(this._successHandler(this.data.filter(function(i){return this.caseSensitive?i.indexOf(t)>-1:i.toLowerCase().indexOf(t.toLowerCase())>-1})),void 0):(this._clearResults(),void 0)},_handleRemoteSearch:function(){var t=$(".autocomplete-input").val(),i=this.data+t;return this._isWithinLimit(t)?($.ajax({type:"GET",url:i,dataType:"json",success:$.proxy(this._successHandler,this),error:function(){console.log("Request failed to load suggestions.")},timeout:this.remoteTimeout}),void 0):(this._clearResults(),void 0)},_successHandler:function(t){if(!(void 0===t&&0>=t.length)){var i="<ol>";$.map(t,function(t){i+="<li>"+t+"</li>"}),i+="</ol>",this.resultContainer.html(i);var e=this;$(".autocomplete-result li").on("click",function(){var t=$(this).text();$(".autocomplete-input").val(t),e._clearResults()}),this.showFunction()}},_clearResults:function(){this.resultContainer.html(""),this.hideFunction()}};(function(t){t.extend(t.fn,ZeptoAutocomplete),t.autocomplete=t.fn.autocomplete})(Zepto);